<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AWS Image Labeler</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>AWS Rekognition Image Labeler</h1>
  <input id="urlInput" type="text" placeholder="Enter image URL..." />
  <button onclick="analyze()">Analyze</button>

  <div id="result"></div>

  <script>
  async function analyze() {
    const imageUrl = document.getElementById('urlInput').value;
    const res = await fetch('https://y98g2010ni.execute-api.ap-southeast-2.amazonaws.com/dev/label', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ imageUrl })
    });
    const labels = await res.json();

    document.getElementById('result').innerHTML = `
      <img src="${imageUrl}" width="300"><hr>
      ${labels.map(l => 
        `<p>${l.Name} - ${(l.Confidence).toFixed(2)}%</p>`
      ).join('')}
    `;
  }
  </script>
</body>
</html>
